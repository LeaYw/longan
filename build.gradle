def parseLocalProperties(){
    File file = rootProject.file('maven.properties')
    if(file.exists()){
        InputStream inputStream = rootProject.file('maven.properties').newDataInputStream();
        Properties properties = new Properties()
        properties.load(inputStream)

        if(properties.containsKey("MAVEN_REPO_SNAPSHOT_URL")){
            ext.MAVEN_REPO_SNAPSHOT_URL = properties.getProperty("MAVEN_REPO_SNAPSHOT_URL")
            ext.MAVEN_REPO_RELEASE_URL = properties.getProperty("MAVEN_REPO_RELEASE_URL")
            ext.GROUP_ID = properties.getProperty("GROUP_ID")
            ext.TYPE = properties.getProperty("TYPE")
            ext.USERNAME = properties.getProperty("USERNAME")
            ext.PASSWORD = properties.getProperty("PASSWORD")
        }
    }
}

buildscript {
    repositories {
        google()
        jcenter()
        maven {
            credentials {
                username 'nanpRL'
                password 'jEE1TA5jIC'
            }
            url 'https://repo.rdc.aliyun.com/repository/49107-release-3gYVam/'
        }
        maven {
            credentials {
                username 'nanpRL'
                password 'jEE1TA5jIC'
            }
            url 'https://repo.rdc.aliyun.com/repository/49107-snapshot-egC0LB/'
        }
    }

    dependencies {
        classpath 'com.android.tools.build:gradle:3.1.2'
        classpath 'me.leayw.tools.build:longan:0.1.5'
    }
}

allprojects {

    repositories {
        google()
        jcenter()

        maven {
            credentials {
                username 'nanpRL'
                password 'jEE1TA5jIC'
            }
            url 'https://repo.rdc.aliyun.com/repository/49107-release-3gYVam/'
        }
        maven {
            credentials {
                username 'nanpRL'
                password 'jEE1TA5jIC'
            }
            url 'https://repo.rdc.aliyun.com/repository/49107-snapshot-egC0LB/'
        }
        maven { url "https://jitpack.io" }
    }
    parseLocalProperties()
}

task clean(type: Delete) {
    delete rootProject.buildDir
}
